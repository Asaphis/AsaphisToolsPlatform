@tailwind base;
@tailwind components;
@tailwind utilities;

/* Design tokens (from ModernUIRefresh) */
:root {
  --button-outline: rgba(0,0,0, .10);
  --badge-outline: rgba(0,0,0, .05);
  --opaque-button-border-intensity: -8;
  --elevate-1: rgba(0,0,0, .03);
  --elevate-2: rgba(0,0,0, .08);
  --background: 0 0% 100%;
  --foreground: 240 10% 3.9%;
  --border: 240 5.9% 90%;
  --card: 0 0% 98%;
  --card-foreground: 240 10% 3.9%;
  --card-border: 240 5.9% 92%;
  --primary: 262 83% 58%;
  --primary-foreground: 0 0% 100%;
  --secondary: 240 5% 85%;
  --secondary-foreground: 240 10% 3.9%;
  --muted: 240 6% 90%;
  --muted-foreground: 240 3.8% 46.1%;
  --accent: 240 5% 88%;
  --accent-foreground: 240 10% 3.9%;
  --destructive: 0 84% 60%;
  --destructive-foreground: 0 0% 100%;
  --input: 240 5.9% 75%;
  --ring: 262 83% 58%;
  --font-sans: Inter, system-ui, -apple-system, sans-serif;
  --font-serif: Georgia, serif;
  --font-mono: Menlo, monospace;
}

.dark {
  --button-outline: rgba(255,255,255, .10);
  --badge-outline: rgba(255,255,255, .05);
  --opaque-button-border-intensity: 9;
  --elevate-1: rgba(255,255,255, .04);
  --elevate-2: rgba(255,255,255, .09);
  --background: 240 10% 3.9%;
  --foreground: 0 0% 98%;
  --border: 240 3.7% 15.9%;
  --card: 240 5% 6.5%;
  --card-foreground: 0 0% 98%;
  --card-border: 240 3.7% 10%;
  --secondary: 240 4% 16%;
  --secondary-foreground: 0 0% 98%;
  --muted: 240 4% 13%;
  --muted-foreground: 240 5% 64.9%;
  --accent: 240 4% 15%;
  --accent-foreground: 0 0% 98%;
  --input: 240 3.7% 35%;
}

@layer base {
  * { @apply border-border; }
  html { scroll-behavior: smooth; }
  body { @apply font-sans antialiased bg-background text-foreground; }
}

/* Utilities from ModernUIRefresh */
@layer utilities {
  .toggle-elevate::before,
  .toggle-elevate-2::before {
    content: ""; pointer-events: none; position: absolute; inset: 0; border-radius: inherit; z-index: -1;
  }
  .toggle-elevate.toggle-elevated::before { background-color: var(--elevate-2); }
  .border.toggle-elevate::before { inset: -1px; }
  .hover-elevate:not(.no-default-hover-elevate),
  .active-elevate:not(.no-default-active-elevate),
  .hover-elevate-2:not(.no-default-hover-elevate),
  .active-elevate-2:not(.no-default-active-elevate) { position: relative; z-index: 0; }
  .hover-elevate:hover:not(.no-default-hover-elevate)::after,
  .active-elevate:active:not(.no-default-active-elevate)::after { content: ""; pointer-events: none; position: absolute; inset: 0; border-radius: inherit; z-index: 999; background-color: var(--elevate-1); }
  .hover-elevate-2:hover:not(.no-default-hover-elevate)::after,
  .active-elevate-2:active:not(.no-default-active-elevate)::after { content: ""; pointer-events: none; position: absolute; inset: 0; border-radius: inherit; z-index: 999; background-color: var(--elevate-2); }
}

/* Components mapped to new tokens */
@layer components {
  .btn { @apply inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50; }
  .btn-primary { @apply btn bg-primary text-primary-foreground border border-primary-border hover-elevate active-elevate-2 min-h-9 px-4 py-2; }
  .btn-secondary { @apply btn bg-secondary text-secondary-foreground border border-secondary-border hover-elevate active-elevate-2 min-h-9 px-4 py-2; }
  .btn-outline { @apply btn border [border-color:var(--button-outline)] shadow-xs active:shadow-none min-h-9 px-4 py-2; }
  .btn-ghost { @apply btn border border-transparent min-h-9 px-4 py-2; }
  .btn-cta { @apply btn text-foreground border [border-color:var(--button-outline)] bg-accent min-h-7 px-3 text-xs rounded-full; }
  .badge { @apply inline-flex items-center rounded-full px-2.5 py-0.5 text-[11px] font-medium border [border-color:var(--badge-outline)] text-foreground/70 bg-accent; }
  .card { @apply rounded-xl border bg-card border-card-border text-card-foreground shadow-sm; }
}

/* Tool card hover */
.tool-card { transition: all .25s cubic-bezier(0.4,0,0.2,1); }
.tool-card:hover { transform: translateY(-4px); box-shadow: 0 12px 20px -8px rgba(0,0,0,.12); }
.dark .tool-card:hover { box-shadow: 0 12px 20px -8px rgba(0,0,0,.4); }
::-webkit-scrollbar-thumb { background: #c1c1c1; border-radius: 4px; }
::-webkit-scrollbar-thumb:hover { background: #a3a3a3; }
.dark ::-webkit-scrollbar-track { background: #2a2a2a; }
.dark ::-webkit-scrollbar-thumb { background: #555; }
.dark ::-webkit-scrollbar-thumb:hover { background: #777; }

/* Animations */
@keyframes pulse-slow { 0%,100%{opacity:1} 50%{opacity:.5} }
.animate-pulse-slow { animation: pulse-slow 2s cubic-bezier(0.4,0,0.6,1) infinite; }

/* Tool card hover */
.tool-card { transition: all .25s cubic-bezier(0.4,0,0.2,1); }
.tool-card:hover { transform: translateY(-4px); box-shadow: 0 12px 20px -8px rgba(0,0,0,.12); }
.dark .tool-card:hover { box-shadow: 0 12px 20px -8px rgba(0,0,0,.4); }
